<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile - Garcia Builder</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/global.css">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 100%);
            color: #fff;
            min-height: 100vh;
        }

        .profile-container {
            padding-top: 120px;
            min-height: 100vh;
        }

        .profile-header {
            background: linear-gradient(135deg, rgba(246, 200, 78, 0.15) 0%, rgba(255, 255, 255, 0.08) 100%);
            border-radius: 25px;
            padding: 2.5rem;
            margin-bottom: 2rem;
            border: 1px solid rgba(246, 200, 78, 0.3);
            text-align: center;
            backdrop-filter: blur(15px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        }

        .profile-card {
            background: rgba(255, 255, 255, 0.06);
            border: 1px solid rgba(255, 255, 255, 0.12);
            border-radius: 20px;
            padding: 2rem;
            backdrop-filter: blur(12px);
            margin-bottom: 2rem;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            transition: all 0.3s ease;
        }

        .profile-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.25);
        }

        .main-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 3px solid #F6C84E;
            object-fit: cover;
            margin-bottom: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .main-avatar:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(246, 200, 78, 0.4);
        }

        .info-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .info-item:last-child {
            border-bottom: none;
        }

        .info-label {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .info-value {
            color: #fff;
            font-weight: 500;
            text-align: right;
            max-width: 200px;
            word-break: break-word;
        }

        .info-value.editable {
            cursor: pointer;
            color: #F6C84E;
            transition: all 0.3s ease;
        }

        .info-value.editable:hover {
            color: #ffd700;
            text-decoration: underline;
        }

        .btn-primary {
            background: linear-gradient(135deg, #F6C84E 0%, #f4b942 100%);
            border: none;
            color: #000;
            font-weight: 600;
            border-radius: 12px;
            padding: 0.75rem 1.5rem;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, #f4b942 0%, #F6C84E 100%);
            color: #000;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(246, 200, 78, 0.3);
        }

        .btn-outline-primary {
            border: 2px solid #F6C84E;
            color: #F6C84E;
            font-weight: 600;
            border-radius: 12px;
            padding: 0.75rem 1.5rem;
            transition: all 0.3s ease;
        }

        .btn-outline-primary:hover {
            background: #F6C84E;
            color: #000;
            transform: translateY(-2px);
        }

        .btn-outline-secondary {
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: rgba(255, 255, 255, 0.8);
            font-weight: 600;
            border-radius: 12px;
            padding: 0.75rem 1.5rem;
            transition: all 0.3s ease;
        }

        .btn-outline-secondary:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            border-color: rgba(255, 255, 255, 0.5);
            transform: translateY(-2px);
        }

        .text-readable {
            color: rgba(255, 255, 255, 0.9) !important;
        }

        .text-muted-readable {
            color: rgba(255, 255, 255, 0.6) !important;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: linear-gradient(135deg, rgba(246, 200, 78, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
            border: 1px solid rgba(246, 200, 78, 0.2);
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: #F6C84E;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }

        .activity-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            margin-bottom: 0.5rem;
            transition: all 0.3s ease;
        }

        .activity-item:hover {
            background: rgba(255, 255, 255, 0.08);
        }

        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #F6C84E 0%, #f4b942 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #000;
            font-size: 0.9rem;
        }

        .activity-content {
            flex: 1;
        }

        .activity-title {
            color: #fff;
            font-weight: 500;
            margin-bottom: 0.25rem;
        }

        .activity-time {
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.8rem;
        }

        .progress {
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-bar {
            background: linear-gradient(90deg, #F6C84E 0%, #f4b942 100%);
            height: 100%;
            transition: width 0.3s ease;
        }

        @media (max-width: 768px) {
            .profile-container {
                padding-top: 100px;
            }

            .profile-header {
                padding: 1.5rem;
            }

            .profile-card {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container inner">
            <a class="brand" href="index.html">
                <img loading="lazy" decoding="async" src="assets/logo.png" alt="Garcia Builder">
                <span class="title-gradient">Garcia Builder</span>
            </a>

            <nav class="nav">
                <a href="index.html">Home</a>
                <a href="about.html">About</a>
                <a href="transformations.html">Transformations</a>
                <a href="testimonials.html">Testimonials</a>
                <a href="pricing.html">Pricing</a>
                <a href="faq.html">FAQ</a>
                <a href="contact.html">Contact</a>
                <a href="dashboard.html">Dashboard</a>
            </nav>

            <div id="auth-buttons"></div>

            <div class="lang">
                <select id="lang-select">
                    <option value="en">EN</option>
                    <option value="pt">PT</option>
                    <option value="es">ES</option>
                </select>
            </div>
        </div>
    </nav>

    <!-- Profile Container -->
    <div class="profile-container">
        <div class="container">
            <!-- Header -->
            <div class="profile-header">
                <img id="profile-avatar" class="main-avatar"
                     src="https://ui-avatars.com/api/?name=User&background=F6C84E&color=000&size=120"
                     alt="Profile Picture" onclick="changeAvatar()">
                <h1 class="title-gradient mb-2" id="profile-name">Loading...</h1>
                <p class="text-muted-readable mb-3" id="profile-email">...</p>
                <div class="d-flex gap-2 justify-content-center flex-wrap">
                    <a href="dashboard.html" class="btn btn-outline-secondary">
                        <i class="fas fa-arrow-left me-2"></i>Back to Dashboard
                    </a>
                    <a href="profile-manager.html" class="btn btn-primary">
                        <i class="fas fa-edit me-2"></i>Edit Profile
                    </a>
                </div>
            </div>

            <div class="row">
                <!-- Personal Information -->
                <div class="col-lg-8">
                    <!-- Profile Stats -->
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number" id="profile-days">0</div>
                            <div class="stat-label">Days as Member</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="profile-sessions">0</div>
                            <div class="stat-label">Login Sessions</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="profile-progress">0%</div>
                            <div class="stat-label">Profile Complete</div>
                        </div>
                    </div>

                    <!-- Personal Details -->
                    <div class="profile-card">
                        <h5 class="text-readable mb-4">
                            <i class="fas fa-user me-2"></i>Personal Information
                        </h5>

                        <div class="info-item">
                            <div class="info-label">
                                <i class="fas fa-user text-warning"></i>
                                Full Name
                            </div>
                            <div class="info-value editable" id="info-name" onclick="editField('name')">Not provided</div>
                        </div>

                        <div class="info-item">
                            <div class="info-label">
                                <i class="fas fa-envelope text-warning"></i>
                                Email Address
                            </div>
                            <div class="info-value" id="info-email">Loading...</div>
                        </div>

                        <div class="info-item">
                            <div class="info-label">
                                <i class="fas fa-phone text-warning"></i>
                                Phone Number
                            </div>
                            <div class="info-value editable" id="info-phone" onclick="editField('phone')">Not provided</div>
                        </div>

                        <div class="info-item">
                            <div class="info-label">
                                <i class="fas fa-birthday-cake text-warning"></i>
                                Date of Birth
                            </div>
                            <div class="info-value editable" id="info-dob" onclick="editField('dob')">Not provided</div>
                        </div>

                        <div class="info-item">
                            <div class="info-label">
                                <i class="fas fa-map-marker-alt text-warning"></i>
                                Location
                            </div>
                            <div class="info-value editable" id="info-location" onclick="editField('location')">Not provided</div>
                        </div>

                        <div class="info-item">
                            <div class="info-label">
                                <i class="fas fa-clock text-warning"></i>
                                Timezone
                            </div>
                            <div class="info-value editable" id="info-timezone" onclick="editField('timezone')">Not provided</div>
                        </div>

                        <div class="info-item">
                            <div class="info-label">
                                <i class="fas fa-calendar text-warning"></i>
                                Member Since
                            </div>
                            <div class="info-value" id="info-created">Loading...</div>
                        </div>
                    </div>

                    <!-- Fitness Information -->
                    <div class="profile-card">
                        <h5 class="text-readable mb-4">
                            <i class="fas fa-dumbbell me-2"></i>Fitness Profile
                        </h5>

                        <div class="info-item">
                            <div class="info-label">
                                <i class="fas fa-target text-warning"></i>
                                Primary Goal
                            </div>
                            <div class="info-value editable" id="info-goal" onclick="editField('goal')">Not set</div>
                        </div>

                        <div class="info-item">
                            <div class="info-label">
                                <i class="fas fa-chart-line text-warning"></i>
                                Experience Level
                            </div>
                            <div class="info-value editable" id="info-experience" onclick="editField('experience')">Not set</div>
                        </div>

                        <div class="info-item">
                            <div class="info-label">
                                <i class="fas fa-calendar-week text-warning"></i>
                                Workout Frequency
                            </div>
                            <div class="info-value editable" id="info-frequency" onclick="editField('frequency')">Not set</div>
                        </div>

                        <div class="info-item">
                            <div class="info-label">
                                <i class="fas fa-tools text-warning"></i>
                                Equipment Access
                            </div>
                            <div class="info-value editable" id="info-equipment" onclick="editField('equipment')">Not set</div>
                        </div>
                    </div>

                    <!-- About Section -->
                    <div class="profile-card">
                        <h5 class="text-readable mb-4">
                            <i class="fas fa-info-circle me-2"></i>About Me
                        </h5>
                        <div class="info-value editable" id="info-bio" onclick="editField('bio')" style="text-align: left; max-width: 100%; cursor: pointer; padding: 1rem; background: rgba(255,255,255,0.03); border-radius: 8px; min-height: 60px;">
                            Click to add your bio...
                        </div>
                    </div>
                </div>

                <!-- Activity Sidebar -->
                <div class="col-lg-4">
                    <!-- Profile Completion -->
                    <div class="profile-card">
                        <h6 class="text-readable mb-3">Profile Completion</h6>
                        <div class="progress mb-2">
                            <div class="progress-bar" id="completion-bar" style="width: 25%"></div>
                        </div>
                        <small class="text-muted-readable">Complete your profile to unlock all features</small>
                    </div>

                    <!-- Recent Activity -->
                    <div class="profile-card">
                        <h6 class="text-readable mb-3">Recent Activity</h6>
                        <div id="recent-activity">
                            <div class="activity-item">
                                <div class="activity-icon">
                                    <i class="fas fa-sign-in-alt"></i>
                                </div>
                                <div class="activity-content">
                                    <div class="activity-title">Profile Created</div>
                                    <div class="activity-time">Welcome to Garcia Builder!</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="profile-card">
                        <h6 class="text-readable mb-3">Quick Actions</h6>
                        <div class="d-grid gap-2">
                            <button class="btn btn-outline-primary" onclick="exportProfile()">
                                <i class="fas fa-download me-2"></i>Export Profile Data
                            </button>
                            <button class="btn btn-outline-secondary" onclick="deleteAccount()">
                                <i class="fas fa-trash me-2"></i>Delete Account
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/supabase.js"></script>
    <script src="js/auth.js"></script>

    <script>
        let currentUser = null;
        let currentProfile = null;

        document.addEventListener('DOMContentLoaded', async function() {
            await initializeProfile();
        });

        async function initializeProfile() {
            try {
                // Wait for Supabase
                if (!window.supabaseClient) {
                    if (window.supabase) {
                        window.supabaseClient = window.supabase.createClient(
                            window.SUPABASE_URL,
                            window.SUPABASE_ANON_KEY
                        );
                    } else {
                        throw new Error('Supabase not loaded');
                    }
                }

                // Check authentication
                const { data, error } = await window.supabaseClient.auth.getUser();

                if (error || !data.user) {
                    window.location.href = 'login.html?redirect=my-profile.html';
                    return;
                }

                currentUser = data.user;

                // Load profile data
                const { data: profile } = await window.supabaseClient
                    .from('user_profiles')
                    .select('*')
                    .eq('user_id', currentUser.id)
                    .single();

                currentProfile = profile;

                // Update UI
                loadProfileData();
                setupAuthButtons();
                calculateStats();

            } catch (error) {
                console.error('Profile initialization error:', error);
                showToast('Failed to load profile data', 'error');
            }
        }

        function loadProfileData() {
            // Basic info
            document.getElementById('profile-email').textContent = currentUser.email;
            document.getElementById('info-email').textContent = currentUser.email;

            if (currentProfile) {
                const fullName = currentProfile.full_name || 'User';
                document.getElementById('profile-name').textContent = fullName;
                document.getElementById('info-name').textContent = fullName;

                document.getElementById('info-phone').textContent = currentProfile.phone || 'Not provided';
                document.getElementById('info-dob').textContent = currentProfile.date_of_birth || 'Not provided';
                document.getElementById('info-location').textContent =
                    (currentProfile.city && currentProfile.country)
                        ? `${currentProfile.city}, ${currentProfile.country}`
                        : 'Not provided';
                document.getElementById('info-timezone').textContent = currentProfile.timezone || 'Not provided';
                document.getElementById('info-bio').textContent = currentProfile.bio || 'Click to add your bio...';

                // Fitness info
                document.getElementById('info-goal').textContent = currentProfile.fitness_goal || 'Not set';
                document.getElementById('info-experience').textContent = currentProfile.experience_level || 'Not set';
                document.getElementById('info-frequency').textContent = currentProfile.workout_frequency || 'Not set';
                document.getElementById('info-equipment').textContent = currentProfile.equipment || 'Not set';
            } else {
                document.getElementById('profile-name').textContent = currentUser.email.split('@')[0];
                document.getElementById('info-name').textContent = 'Not provided';
            }

            // Created date
            const createdDate = new Date(currentUser.created_at);
            document.getElementById('info-created').textContent = createdDate.toLocaleDateString();

            // Update avatar
            const displayName = currentProfile?.full_name || currentUser.email.split('@')[0];
            const avatarUrl = `https://ui-avatars.com/api/?name=${encodeURIComponent(displayName)}&background=F6C84E&color=000&size=120`;
            document.getElementById('profile-avatar').src = avatarUrl;
        }

        function setupAuthButtons() {
            const authButtons = document.getElementById('auth-buttons');
            const displayName = currentProfile?.full_name || currentUser.email.split('@')[0];

            authButtons.innerHTML = `
                <div class="dropdown">
                    <button class="btn btn-outline-warning dropdown-toggle" type="button" data-bs-toggle="dropdown">
                        <i class="fas fa-user me-1"></i> ${displayName}
                    </button>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="dashboard.html">
                            <i class="fas fa-tachometer-alt me-2"></i>Dashboard
                        </a></li>
                        <li><a class="dropdown-item" href="my-profile.html">
                            <i class="fas fa-user me-2"></i>My Profile
                        </a></li>
                        <li><a class="dropdown-item" href="profile-manager.html">
                            <i class="fas fa-user-cog me-2"></i>Profile Manager
                        </a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="#" onclick="handleLogout()">
                            <i class="fas fa-sign-out-alt me-2"></i>Logout
                        </a></li>
                    </ul>
                </div>
            `;
        }

        function calculateStats() {
            // Calculate days as member
            const createdDate = new Date(currentUser.created_at);
            const today = new Date();
            const daysDiff = Math.floor((today - createdDate) / (1000 * 60 * 60 * 24));
            document.getElementById('profile-days').textContent = daysDiff;

            // Mock sessions (you can implement real tracking)
            document.getElementById('profile-sessions').textContent = Math.max(1, Math.floor(daysDiff / 2));

            // Calculate profile completion
            let completionScore = 25; // Base score for having account
            if (currentProfile) {
                if (currentProfile.full_name) completionScore += 15;
                if (currentProfile.phone) completionScore += 10;
                if (currentProfile.date_of_birth) completionScore += 10;
                if (currentProfile.city && currentProfile.country) completionScore += 10;
                if (currentProfile.timezone) completionScore += 5;
                if (currentProfile.bio) completionScore += 10;
                if (currentProfile.fitness_goal) completionScore += 5;
                if (currentProfile.experience_level) completionScore += 5;
                if (currentProfile.workout_frequency) completionScore += 5;
            }

            document.getElementById('profile-progress').textContent = `${completionScore}%`;
            document.getElementById('completion-bar').style.width = `${completionScore}%`;
        }

        function editField(field) {
            let currentValue = '';
            let label = '';

            switch(field) {
                case 'name':
                    currentValue = currentProfile?.full_name || '';
                    label = 'Full Name';
                    break;
                case 'phone':
                    currentValue = currentProfile?.phone || '';
                    label = 'Phone Number';
                    break;
                case 'dob':
                    currentValue = currentProfile?.date_of_birth || '';
                    label = 'Date of Birth (YYYY-MM-DD)';
                    break;
                case 'location':
                    currentValue = currentProfile?.city || '';
                    label = 'City';
                    break;
                case 'timezone':
                    currentValue = currentProfile?.timezone || '';
                    label = 'Timezone';
                    break;
                case 'bio':
                    currentValue = currentProfile?.bio || '';
                    label = 'About You';
                    break;
                case 'goal':
                    currentValue = currentProfile?.fitness_goal || '';
                    label = 'Fitness Goal';
                    break;
                case 'experience':
                    currentValue = currentProfile?.experience_level || '';
                    label = 'Experience Level';
                    break;
                case 'frequency':
                    currentValue = currentProfile?.workout_frequency || '';
                    label = 'Workout Frequency';
                    break;
                case 'equipment':
                    currentValue = currentProfile?.equipment || '';
                    label = 'Equipment Access';
                    break;
            }

            const newValue = prompt(`Edit ${label}:`, currentValue);
            if (newValue !== null && newValue !== currentValue) {
                updateField(field, newValue);
            }
        }

        async function updateField(field, value) {
            try {
                const updates = { [field]: value };

                // Map field names to database columns
                const fieldMap = {
                    'name': 'full_name',
                    'phone': 'phone',
                    'dob': 'date_of_birth',
                    'location': 'city',
                    'timezone': 'timezone',
                    'bio': 'bio',
                    'goal': 'fitness_goal',
                    'experience': 'experience_level',
                    'frequency': 'workout_frequency',
                    'equipment': 'equipment'
                };

                const dbField = fieldMap[field] || field;
                const dbUpdate = { [dbField]: value };

                // Update in database (mock for now)
                console.log('Updating field:', dbField, 'with value:', value);

                // Update current profile
                if (!currentProfile) currentProfile = {};
                currentProfile[dbField] = value;

                // Refresh display
                loadProfileData();
                calculateStats();

                showToast(`${field} updated successfully!`, 'success');

            } catch (error) {
                console.error('Update error:', error);
                showToast('Failed to update field', 'error');
            }
        }

        function changeAvatar() {
            showToast('Avatar change functionality coming soon!', 'info');
        }

        function exportProfile() {
            const profileData = {
                name: currentProfile?.full_name || 'Not provided',
                email: currentUser.email,
                phone: currentProfile?.phone || 'Not provided',
                dateOfBirth: currentProfile?.date_of_birth || 'Not provided',
                location: currentProfile?.city || 'Not provided',
                timezone: currentProfile?.timezone || 'Not provided',
                bio: currentProfile?.bio || 'Not provided',
                fitnessGoal: currentProfile?.fitness_goal || 'Not set',
                experienceLevel: currentProfile?.experience_level || 'Not set',
                workoutFrequency: currentProfile?.workout_frequency || 'Not set',
                equipment: currentProfile?.equipment || 'Not set',
                memberSince: currentUser.created_at,
                exportDate: new Date().toISOString()
            };

            const dataStr = JSON.stringify(profileData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});

            const link = document.createElement('a');
            link.href = URL.createObjectURL(dataBlob);
            link.download = 'garcia_builder_profile.json';
            link.click();

            showToast('Profile data exported successfully!', 'success');
        }

        function deleteAccount() {
            if (confirm('Are you sure you want to delete your account? This action cannot be undone.')) {
                if (confirm('This will permanently delete all your data. Are you absolutely sure?')) {
                    showToast('Account deletion feature coming soon. Please contact support.', 'info');
                }
            }
        }

        async function handleLogout() {
            try {
                await window.supabaseClient.auth.signOut();
                window.location.href = 'index.html';
            } catch (error) {
                console.error('Logout error:', error);
                window.location.href = 'index.html';
            }
        }

        function showToast(message, type = 'info') {
            const toast = document.createElement('div');
            const bgClass = type === 'success' ? 'alert-success' : type === 'error' ? 'alert-danger' : 'alert-info';
            const icon = type === 'success' ? 'check' : type === 'error' ? 'exclamation' : 'info';

            toast.className = `alert ${bgClass} position-fixed`;
            toast.style.cssText = 'top: 20px; right: 20px; z-index: 9999; min-width: 300px; border-radius: 10px;';
            toast.innerHTML = `
                <i class="fas fa-${icon}-circle me-2"></i>
                ${message}
                <button type="button" class="btn-close" onclick="this.parentElement.remove()"></button>
            `;

            document.body.appendChild(toast);

            setTimeout(() => {
                if (toast.parentElement) toast.remove();
            }, 4000);
        }
    </script>
    <script defer src="js/body-metrics.js"></script>
</body>
</html>
